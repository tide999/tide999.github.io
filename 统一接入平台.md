# 统一接入平台

---

为了能够支持面向服务的分布式架构，用户接入平台依托数据交换平台对从客户端接收的服务请求进行智能路由。这样客户端不用明确各个请求所要对应的应用系统，只需要和用户接入平台建立连接，并通过相关的用户认证。


采用基于服务的架构的优势在于用户接入平台能够屏蔽交易中心后台应用系统的变化对客户端的影响，从而最大限度的提高部署的灵活度，适应交易中心未来业务的发展。


![](/assets/import3.png)

用户接入平台定位为不承载任何的业务逻辑，只作为一个技术接入平台。基于这样的平台定位，用户接入平台需要满足以下技术要求：

## 1. 高安全性

   在应用体系架构中，用户统一接入平台是防卫系统安全的第一道屏障，因此接入平台平台的安全性设计放在了设计目标的首要位置。这些安全性的设计包括：  
     
### 支持国产加密算法
###支持SSL通道加密
###支持可配置的黑、白名单
###支持可配置的防DDOS攻击策略；
###支持动态流控策略。

##2. 高扩展性
用于接入平台中的各个服务均设计成为无状态的接入服务，支持平行扩展、动态横向扩展和无缝切换。这样，用户接入平台可以根据相应的业务规则进行灵活的部署，同时也能够随业务的增长进行线性扩充。
### 服务之间无关联
由于无状态的服务可以最大程度确保整个用户接入平台的可扩展性，平台中各个服务之间不存在关联，因此一方面可以减少部署时的关联，便于部署；另外一方面各服务之间不会形成瓶颈，便于系统随着业务的扩展而方便的部署。
### 服务任意切换
客户端可以根据之前的部署配置，任意连接相应的用户接入服务，当其连接的用户接入服务出现故障时，客户端可以切换到其他任意一台用户接入服务，整个切换过程不涉及到用户接入服务间的状态切换和同步。这样切换的过程会非常便利，而且任一用户接入服务均可以通过数据交换平台将客户端的请求路由到对应的业务服务平台。
### 服务与主机无关
服务的部署和运行与主机无关，一台主机上可以部署多套用户接入服务，这样可以根据主机的硬件条件，部署多套用户接入服务，充分利用硬件资源。

##3. 高性能接入
为了能够最大程度的减少引入用户接入平台对整个交易过程关键路径上延时的影响，用户接入平台充分考虑了处理延时和吞吐量这两个因素。
为了避免各个连接上的干扰，用户接入平台将根据请求服务的特点，将各个服务的交互分别部署到不同的连接上。例如，交易和查询将分别使用不同的连接通道和不同的接入服务器，从而在确保交易高效执行的前提下，也能够保证查询操作不影响到交易的处理。
支撑根据Service划分不同的接入服务组，那么这些组所处理的消息将不会影响其他接入服务程序。例如：当后台广播行情信息时，如果不区分特定接入服务组，则所有接入服务程序将都获得广布行情并发送出去。而如果根据行情Service来划分特定组后，则只需要发送给该组的进程即可，可大大减轻其他接入服务器的压力。



